name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ğŸš€
on: [push]

jobs:
  Explore-GitHub-Actions:
    runs-on: [self-hosted]

    steps:
      - run: echo "ğŸ‰ The job was automÃ¡ticamente activado por ${{ github.event_name }}."
      - run: echo "ğŸ§ Se estÃ¡ ejecutando en un runner con SO: ${{ runner.os }}."

      - name: Limpiar .git si estÃ¡ bloqueado
        if: runner.os == 'Windows'
        shell: pwsh
        run: |
          if (Test-Path ".git") {
            Write-Host "Eliminando carpeta .git bloqueadaâ€¦"
            Remove-Item -Recurse -Force -Path .git -ErrorAction SilentlyContinue
          }

      - name: Check out repository code
        uses: actions/checkout@v4
        with:
          clean: false
          persist-credentials: false
          fetch-depth: 1
          lfs: false
          submodules: false

      - run: echo "ğŸ’¡ El repositorio ${{ github.repository }} fue clonado al runner."
      - name: Listar archivos
        run: ls ${{ github.workspace }}
      - run: echo "ğŸ Estado final del job: ${{Â job.statusÂ }}"